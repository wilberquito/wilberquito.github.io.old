@import "./../../style/variables";


$bigSide: 200px;
$side: 50px;
$l: 300px;
$shortL: 100px;
$baseColor: $sphereBaseColor;
$squeletonColor: $sphereSqueletonColor;

@mixin plane($w, $h) {
    width: $w;
    height: $h;
    transform-style: preserve-3d;
}

@mixin view($p) {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    perspective: $p;
}

@mixin shortView($p) {
    position: absolute;
    top: auto;
    left: 0;
    right: 0;
    bottom: 25vh;
    perspective: $p;
}

@mixin center {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
}

.view {
    @include shortView(400);
}

.plane {
    cursor: pointer;
    @include plane($side, $side);
    &.main {
        @include center;
        transform: rotateX(60deg) rotateZ(-30deg);
        animation: rotate 20s infinite linear;

        .circle {
            width: $side;
            height: $side;
            position: absolute;
            transform-style: preserve-3d;
            border-radius: 100%;
            border: 2px solid $squeletonColor;
            box-sizing: border-box;
            box-shadow: 0 0 60px rgba($baseColor, 1), inset 0 0 60px rgba($baseColor, 1);

            &::before,
            &::after {
                content: "";
                display: block;
                @include center;
                width: 10%;
                height: 10%;
                border-radius: 100%;
                background: rgba($squeletonColor, 1);
                box-sizing: border-box;
                box-shadow: 0 0 60px 2px rgba($squeletonColor, 1);
            }

            &::before {
                transform: translateZ(-$shortL);
            }
            &::after {
                transform: translateZ($shortL);
            }

            @for $i from 1 through 5 {
                &:nth-child(#{$i}) {
                    transform: rotateZ($i / 5 * 360deg) rotateX(63.435deg);
                }
            }
        }
    }
}

@keyframes rotate {
    0% {
        transform: rotateX(0) rotateY(0) rotateZ(0);
    }
    100% {
        transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); /* You can add global styles to this file, and also import other style files */
    }
}

@media (min-width: 1024px) {
    .view {
        @include view(300px);
    }

    .plane {
        @include plane($bigSide, $bigSide);
        &.main {
            @include center;
            transform: rotateX(60deg) rotateZ(-30deg);
            animation: rotate 18s infinite linear;

            .circle {
               &::before {
                    transform: translateZ(-$l);
                }
                &::after {
                    transform: translateZ($l);
                }
            }
        }

    }
}
